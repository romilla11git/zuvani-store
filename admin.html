<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Zuvani Tees</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        // Security check
        if (!localStorage.getItem('zuvani_admin_authenticated')) {
            window.location.href = 'admin-login.html';
        }
        
        function adminLogout() {
            localStorage.removeItem('zuvani_admin_authenticated');
            window.location.href = 'admin-login.html';
        }
    </script>
</head>
<body class="admin-body">
    <nav class="navbar admin-navbar">
        <a href="index.html" class="brand-logo">
            <div class="logo-placeholder">ZUVANI ADMIN</div>
        </a>
        <ul class="nav-links">
            <li><a href="index.html"><i class="fas fa-home"></i> View Site</a></li>
            <li><a href="#" onclick="showSection('dashboard')" class="admin-nav-active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#" onclick="showSection('products')"><i class="fas fa-tshirt"></i> Products</a></li>
            <li><a href="#" onclick="showSection('orders')"><i class="fas fa-shopping-cart"></i> Orders</a></li>
            <li><a href="#" onclick="showSection('settings')"><i class="fas fa-cog"></i> Settings</a></li>
            <li><a href="#" onclick="adminLogout()" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        </ul>
    </nav>

    <main class="admin-main">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="admin-section">
            <div class="admin-header">
                <h1><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h1>
                <p>Welcome to your Zuvani Tees control panel</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-tshirt"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-products">0</h3>
                        <p>Total Products</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-orders">0</h3>
                        <p>Total Orders</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-customers">0</h3>
                        <p>Customers</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-revenue">KSh 0</h3>
                        <p>Total Revenue</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-actions">
                <div class="action-card" onclick="showSection('products')">
                    <i class="fas fa-plus-circle"></i>
                    <h4>Add New Product</h4>
                    <p>Create new product listings</p>
                </div>

                <div class="action-card" onclick="showSection('orders')">
                    <i class="fas fa-clipboard-list"></i>
                    <h4>Manage Orders</h4>
                    <p>View and process orders</p>
                </div>

                <div class="action-card" onclick="showSection('settings')">
                    <i class="fas fa-store"></i>
                    <h4>Store Settings</h4>
                    <p>Update business information</p>
                </div>

                <div class="action-card" onclick="exportData()">
                    <i class="fas fa-download"></i>
                    <h4>Export Data</h4>
                    <p>Download products & orders</p>
                </div>
            </div>

            <div class="recent-activity">
                <h3>Recent Activity</h3>
                <div class="activity-list" id="activity-list">
                    <div class="activity-item">
                        <i class="fas fa-info-circle"></i>
                        <span>Welcome to your admin panel! Start by adding your first product.</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products-section" class="admin-section" style="display: none;">
            <div class="admin-header">
                <h1><i class="fas fa-tshirt"></i> Product Management</h1>
                <p>Add, edit, and manage your products</p>
            </div>

            <div class="admin-content">
                <!-- Add Product Form -->
                <div class="admin-card glass-card">
                    <h3><i class="fas fa-plus"></i> Add New Product</h3>
                    <form id="add-product-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="product-name">Product Name *</label>
                                <input type="text" id="product-name" required>
                            </div>
                            <div class="form-group">
                                <label for="product-price">Price (KSh) *</label>
                                <input type="number" id="product-price" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="product-category">Category *</label>
                                <select id="product-category" required>
                                    <option value="t-shirts">T-Shirts</option>
                                    <option value="polo">Polo Shirts</option>
                                    <option value="hoodies">Hoodies</option>
                                    <option value="caps">Caps</option>
                                    <option value="accessories">Accessories</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="product-stock">Stock Quantity *</label>
                                <input type="number" id="product-stock" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="product-description">Description *</label>
                            <textarea id="product-description" required placeholder="Describe your product..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="product-image">Image Path</label>
                            <input type="text" id="product-image" placeholder="images/product-name.jpg">
                            <small>Upload image to GitHub images folder first, then enter path here</small>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="cta-button">
                                <i class="fas fa-save"></i> Add Product
                            </button>
                            <button type="reset" class="cta-button outline">
                                <i class="fas fa-times"></i> Clear Form
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Products List -->
                <div class="admin-card glass-card">
                    <h3><i class="fas fa-list"></i> Your Products</h3>
                    <div class="products-list" id="admin-products-list">
                        <!-- Products will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Orders Section -->
        <section id="orders-section" class="admin-section" style="display: none;">
            <div class="admin-header">
                <h1><i class="fas fa-shopping-cart"></i> Order Management</h1>
                <p>View and process customer orders</p>
            </div>

            <div class="admin-content">
                <div class="admin-card glass-card">
                    <h3><i class="fas fa-clipboard-list"></i> Recent Orders</h3>
                    <div class="orders-list" id="orders-list">
                        <div class="empty-state">
                            <i class="fas fa-shopping-cart"></i>
                            <h4>No orders yet</h4>
                            <p>Orders will appear here when customers make purchases</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings-section" class="admin-section" style="display: none;">
            <div class="admin-header">
                <h1><i class="fas fa-cog"></i> Store Settings</h1>
                <p>Manage your store information and preferences</p>
            </div>

            <div class="admin-content">
                <div class="admin-card glass-card">
                    <h3><i class="fas fa-store"></i> Business Information</h3>
                    <form id="business-settings-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="store-name">Store Name</label>
                                <input type="text" id="store-name" value="Zuvani Tees">
                            </div>
                            <div class="form-group">
                                <label for="store-phone">Phone Number</label>
                                <input type="tel" id="store-phone" value="0758619460">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="store-email">Business Email</label>
                                <input type="email" id="store-email" value="info@zuvanitees.com">
                            </div>
                            <div class="form-group">
                                <label for="store-location">Location</label>
                                <input type="text" id="store-location" value="Marurui, Nairobi, Kenya">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="store-description">Business Description</label>
                            <textarea id="store-description">Premium streetwear brand offering quality t-shirts, polo shirts, and hoodies. Own your vibe, wear your story.</textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="cta-button">
                                <i class="fas fa-save"></i> Save Settings
                            </button>
                        </div>
                    </form>
                </div>

                <div class="admin-card glass-card">
                    <h3><i class="fas fa-shield-alt"></i> Security Settings</h3>
                    <div class="security-actions">
                        <button onclick="window.open('admin-login.html', '_blank')" class="cta-button outline">
                            <i class="fas fa-key"></i> Change Password
                        </button>
                        <button onclick="clearAllData()" class="cta-button outline" style="background: #ef4444;">
                            <i class="fas fa-trash"></i> Clear All Data
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
    <script src="admin.js"></script>
    <script>
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.admin-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected section
            document.getElementById(sectionName + '-section').style.display = 'block';
            
            // Update active nav
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('admin-nav-active');
            });
            event.target.classList.add('admin-nav-active');
        }

        function exportData() {
            const store = new ZuvaniStore();
            const data = {
                products: store.products,
                orders: JSON.parse(localStorage.getItem('zuvani_orders')) || [],
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'zuvani-data-backup.json';
            link.click();
            
            alert('Data exported successfully!');
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL data? This cannot be undone!')) {
                localStorage.clear();
                alert('All data cleared. Page will reload.');
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
        }

        // Initialize admin when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const admin = new ZuvaniAdmin();
        });
    </script>
</body>
</html>